# PM Agent プロジェクト仕様書

## 1. プロジェクト概要
PM Agentは、HubSpot上の取引（オンボーディングプロジェクト）をリアルタイムで監視し、AIを用いてリスクを早期に発見・通知するためのプロジェクトマネジメント支援ツールです。
特に、顧客とのメールのやり取りから感情や遅延の兆候を読み取り、プロジェクト管理者が「何も見逃さない」状態を実現することを目的にしています。

## 2. 主要機能

### 2.1 AI搭載モニタリングダッシュボード
- **プロジェクト一覧表示**: すべてのアクティブなオンボーディングプロジェクトの状態（On Track, At Risk, Delayed）を一覧表示。
- **クリティカルサマリー**: リスクの高いプロジェクトを優先的にハイライトし、迅速な対応を促す。
- **アラートストリーム**: AIによって検出されたリスクや機会をリアルタイムのタイムラインとして表示。

### 2.2 HubSpot 連携
- **リアルタイムデータ取得**: HubSpot APIから取引（Deals）とそれに関連するコミュニケーション（Emails）を取得。
- **双方向同期**: アラートの却下やメモの追加などのアクションを管理。

### 2.3 AI解析エンジン (Gemini 1.5 Flash)
- **感情分析**: 顧客からのメール内容を解析し、不満や焦燥感をスコアリング（0-100）。
- **リスク判定**: 期限の超過、ネガティブな感情、活動の停滞などを総合的に判断し、プロジェクトヘルスを更新。

## 3. 技術スタック

### フロントエンド
- **フレームワーク**: React 18, TypeScript, Vite
- **スタイリング**: Tailwind CSS
- **アイコン**: Lucide React
- **UIコンポーネント**: カスタムコンポーネント（カード型、テーブル型の切り替え可能）

### バックエンド (Proxy Server)
- **ランタイム**: Node.js, Express
- **AI**: Google Generative AI (Gemini 1.5 Flash)
- **API通信**: Axios

## 4. システム構成

1. **Client (React App)**: ユーザーインターフェースを提供。Proxyサーバーを介してデータ取得・解析をリクエスト。
2. **Proxy Server (Express)**: HubSpot APIとの通信を仲介し、Gemini APIによるAI解析を実行。
3. **HubSpot CRM**: 顧客データ、取引データ、メール履歴のマスターデータ保持。
4. **Google Gemini**: 高度なコンテキスト理解に基づくテキスト解析。
